<html lang="en">

<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoteGPT</title>
  <link rel="stylesheet" href="styles.css">
  <script src="script.js"></script>
</head>

<body>
  <div id="maim-stuff">
    <div id="notes-stuff">
      <div id="import-export">
        <button onclick="exportNotes()">Export Notes</button>
        <button onclick="importNotes()">Import Notes</button>
        <input type="file" id="file-input" style="display: none;" onchange="handleFileSelect(event)" />
      </div>
      <div id="note-form">
        <div id="title">NoteGPT v1.3</div>
        <div id="desc"></div>
        <button id="how-to-button">How to use</button>
      </div>

      <div id="notes"></div>
    </div>
    <div id="chat-stuff">
      <div id="chat-form">
        <textarea id="chat-input" placeholder="Ask the AI something"></textarea>

        <div id="buttons">
          <button onclick="askAI()">Ask</button>
          <button onclick="deleteChatLog()">Delete Chat Log</button>
        </div>
      </div>
      <div id="crawlSpace">
        <div id="ai-thinking">AI is thinking...</div>
      </div>
      <div id="chat-log"></div>

    </div>
  </div>

  <div id="how-to-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>How to use NoteGPT</h2>
      <p>1. Ask the AI a question: Type your question or command in the text area at the bottom of the page and press the "Ask" button or hit Enter.</p>
      <p>2. Add a note: Simply ask the AI to remember something for you. For example, you can say "Remember that my bike is blue". The AI will create a note with this information.</p>
      <p>3. Edit a note: Ask the AI to change a note. For example, you can say "Change the note about my bike to say that it's red". The AI will update the note with the new information.</p>
      <p>4. Delete a note: Ask the AI to forget a note. For example, you can say "Forget the note about my bike". The AI will delete the note.</p>
      <p>5. View your notes: All your current notes are displayed on the left side of the page. You can edit or delete them manually.</p>
      <p>6. Export your notes: Click the "Export Notes" button to download a JSON file with all your notes.</p>
      <p>7. Import notes: Click the "Import Notes" button and select a JSON file to load notes from that file.</p>
      <p>9. Delete the chat log: Click the "Delete Chat Log" button to clear the chat history.</p>
      <p>Remember, the AI is here to help you manage your notes. Don't hesitate to ask it for help or clarification. All notes are saved to local storage which means your notes will be saved even if you close or restart the page.</p>
    </div>
  </div>
<script>

// Get the modal
var modal = document.getElementById("how-to-modal");

// Get the button that opens the modal```javascript
var btn = document.getElementById("how-to-button");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
  
  // Add an event listener to the input field
document.getElementById('chat-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        e.preventDefault();
        askAI();
    }
});
  </script>

</body>
  
<div id="mobile-message">
  <h2>Welcome to NoteGPT!</h2>
  <p>We're sorry for the inconvenience, but NoteGPT is currently optimized for desktop use and may not function as expected on mobile devices.</p>
  <p>We're working hard to bring you a mobile-optimized version soon. In the meantime, please use a desktop computer for the best experience.</p>
  <p>Thank you for your understanding!</p>
</div>

</html>
